<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://gdoyle87.github.io/COMP2701/wk_eight/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Week 8 - COMP2701</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="https://cdn.jsdelivr.net/npm/asciinema-player@3.0.1/dist/bundle/asciinema-player.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Week 8";
        var mkdocs_page_input_path = "wk_eight.md";
        var mkdocs_page_url = "/COMP2701/wk_eight/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> COMP2701
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_one/">Week 1</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_two/">Week 2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_three/">Week 3</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_four/">Week 4</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_five/">Week 5</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_six/">Week 6</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../midterm/">Midterm Review</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wk_seven/">Week 7</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Week 8</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#pointers">Pointers</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pointers-primer-video">Pointers Primer (video)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pointer-size">Pointer Size</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#declaring-a-pointer">Declaring a Pointer</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#note-pointer-declaration-syntax-variations">Note: Pointer Declaration Syntax Variations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#note-avoiding-ambiguity-in-pointer-declarations">Note: Avoiding Ambiguity in Pointer Declarations</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#initializing-a-pointer">Initializing a Pointer</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-address-operator">The Address (&amp;) Operator</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-indirectiondereferencing-operator">The Indirection/Dereferencing (*) Operator</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#note-dual-meanings-of">Note: Dual Meanings of *</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#const-with-pointers">const with Pointers</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#incrementing-a-pointer">Incrementing a Pointer</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">COMP2701</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Week 8</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="week-8">Week 8</h1>
<h2 id="pointers">Pointers</h2>
<p>Pointers are variables whose values are memory addresses. </p>
<p>Referencing a value through a pointer is called <strong>indirection</strong> because we are 
using the address to find the value rather than directly accessing the value.</p>
<details><summary>More on <strong>Indirection</strong></summary>
<hr>
To understand this concept lets imagine a block of memory as follows:


<pre><code class="language-nohighlight">+-----------+
|    ???    |  &lt;- Address 0x1000
+-----------+
|    ???    |  &lt;- Address 0x1004
+-----------+
|    ???    |  &lt;- Address 0x1008
+-----------+
|    ???    |  &lt;- Address 0x100C 
+-----------+
</code></pre>


<small><strong>Note:</strong> In the above, `???` represents unallocated or unknown memory values. 
Memory addresses (e.g., `0x1000`, `0x1004`) are arbitrary and simplified for 
illustration, and assume 4-byte alignment typical for 32-bit systems.</small>

<br>Suppose we create a variable <code>count</code> and assign it the value of 7.

<pre><code class="language-c">int count = 7;
</code></pre>


The program updates memory to place the value 7 at the first available address.


<pre><code class="language-nohighlight">+-----------+
|     7     |  &lt;- Address 0x1000 (count)
+-----------+
|    ???    |  &lt;- Address 0x1004
+-----------+
|    ???    |  &lt;- Address 0x1008
+-----------+
|    ???    |  &lt;- Address 0x100C 
+-----------+
</code></pre>


Later we create a pointer to that memory.

<pre><code class="language-c">int *countPtr = &amp;count;
</code></pre>


Our memory would now look something like this.


<pre><code class="language-nohighlight">+-----------+
|     7     |  &lt;- Address 0x1000 (count)
+-----------+
|    ???    |  &lt;- Address 0x1004
+-----------+
|    ???    |  &lt;- Address 0x1008
+-----------+
|   0x1000  |  &lt;- Address 0x100C (countPtr)
+-----------+
</code></pre>


The variable <code>countPtr</code> holds the value <code>0x1000</code> which is the address of count.

<br>The original variable, <code>count</code> directly references the value <code>7</code>.

<br><code>countPtr</code> on the other hand, <strong>indirectly</strong> references <code>7</code>.
It tells you where to find the variable that holds the value <code>7</code>.
<hr>
</details>

<p><br></p>
<h2 id="pointers-primer-video">Pointers Primer (video)</h2>
<p>Before we get deeper into pointer details, here’s a quick video that explains 
the basics that was shared by a classmate (<strong>SpaceBoy22</strong>) in our class Discord:  </p>
<p><a href="https://www.youtube.com/watch?v=DplxIq0mc_Y">Bro Code — C Programming Tutorial for Beginners 37 — Pointers</a></p>
<iframe width="560" height="315"
    src="https://www.youtube.com/embed/DplxIq0mc_Y"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen>
</iframe>

<p><br></p>
<h3 id="pointer-size">Pointer Size</h3>
<p>A pointer is the size of the typical CPU register width in your system.  </p>
<p>For an x86 system, pointers are generally 32-bits wide (4 bytes). For an
x64 computer, pointers are generally 64-bits wide (8 bytes) <em>unless</em> you are running
a 32-bit version of an app (which will use 32-bit pointers).</p>
<p>A <strong>bit</strong> is just a single 1 or 0 — so when we say “32 bits” or “64 bits,” we mean a chunk of 1s and 0s stored together.</p>
<p>Larger pointers (64-bit) allow addressing more memory, up to 16 exabytes 
theoretically, compared to 4 GB for 32-bit pointers.</p>
<details>
  <summary>More on <strong>registers</strong></summary>
  <hr>
  <p>A <strong>register</strong> is a tiny, extremely fast storage location built right into 
  the CPU. On modern 64-bit CPUs, each register holds exactly 64 bits (8 bytes).</p>

  <p>The CPU uses these registers to:</p>

  <ul>
    <li>Hold operands for ALU operations (arithmetic, bitwise/logical, shift & rotate, comparison & conditional)</li>
    <li>Store intermediate results</li>
    <li>Keep track of instruction pointers and flags</li>
  </ul>

  <p>Behind the scenes, the ALU takes inputs from CPU registers, performs one of 
  these operations in a single clock cycle, then writes the result (and status
  flags like zero or carry) back into registers.</p>

  <p>Because pointers need to reference any addressable location in memory, their
  size matches the register width.</p>

  <ul>
    <li>On a 32-bit system you get 32-bit (4 byte) pointers; on a 64-bit system you get 
    64-bit (8 byte) pointers — <strong><em>unless</em></strong> you’re running a 32-bit
    <strong>app</strong> on a 64-bit system, which will still use 32-bit pointers.</li>
  </ul>
  <hr>
</details>
<p><br></p>
<h2 id="declaring-a-pointer">Declaring a Pointer</h2>
<p>To distinguish between a pointer and a regular variable, we use <code>*</code> to indicate
to the compiler that the variable is a pointer.</p>
<pre><code class="language-c">int *countPtr;
</code></pre>
<p>This is read as "countPtr is a pointer to an int".</p>
<p>It can be helpful to name a pointer in a way that makes it clear it is a pointer
to the programmer such as ending the variable name with <code>Ptr</code>.</p>
<h3 id="note-pointer-declaration-syntax-variations"><strong>Note:</strong> Pointer Declaration Syntax Variations</h3>
<p>There are several valid ways to write a pointer declaration, depending on where you place the <code>*</code>:</p>
<pre><code class="language-c">int *countPtr;  // * touches the name, emphasizing the name is a pointer
int* countPtr;  // * touches the type, emphasizing the pointer type
int * countPtr; // * is between type and name, neutral style
</code></pre>
<p>All three are equivalent to the compiler, as whitespace around * is ignored. </p>
<p>However, the choice of style often depends on team coding standards or personal
preference. </p>
<p>For example, <code>int* countPtr;</code> highlights that the type is a 
pointer-to-int.
<br>Whereas <code>int *countPtr;</code> emphasizes that <code>*countPtr</code> is the pointer 
variable. </p>
<p>Be cautious when declaring multiple variables in a single line, as 
the <code>*</code> placement can lead to confusion (see below).</p>
<h3 id="note-avoiding-ambiguity-in-pointer-declarations"><strong>Note:</strong> Avoiding Ambiguity in Pointer Declarations</h3>
<p>When declaring multiple variables, it’s best to split them over multiple lines.</p>
<p>For example, consider the following code, which creates one pointer and one regular variable:</p>
<pre><code class="language-c">int *countPtr, count;
</code></pre>
<p>This can be ambiguous, especially with the alternate syntax:</p>
<pre><code class="language-c">int* countPtr, count;
</code></pre>
<p>Or:</p>
<pre><code class="language-c">int * countPtr, count;
</code></pre>
<p>This can make it look like both variables are pointers.</p>
<p>To avoid ambiguity, split declarations over multiple lines:</p>
<pre><code class="language-c">int* countPtr;
int count;
</code></pre>
<h2 id="initializing-a-pointer">Initializing a Pointer</h2>
<p>When we define a pointer we should always initialize it with some value, even if
that value is <code>NULL</code>. </p>
<pre><code class="language-c">int *countPtr = NULL;
</code></pre>
<p>Note we can also use <code>0</code> in place of <code>NULL</code> since <code>NULL</code> refers to address <code>0</code>. </p>
<pre><code class="language-c">int *countPtr = 0;
</code></pre>
<p>However, in practice it is best to be explicit about it being <code>NULL</code>.</p>
<h2 id="the-address-operator">The Address (<code>&amp;</code>) Operator</h2>
<p>The unary <em>address operator</em> <code>&amp;</code> returns the address of its operand.</p>
<pre><code class="language-c">int y = 5;
int *yPtr = &amp;y;
</code></pre>
<p>We use the <code>&amp;y</code> to assign the <strong><em>address</em></strong> of <code>y</code> to <code>yPtr</code>.</p>
<h2 id="the-indirectiondereferencing-operator">The Indirection/Dereferencing (<code>*</code>) Operator</h2>
<p>The <em>dereferencing operator</em> <code>*</code> allows us to follow a pointer to access the value that 
it points to.</p>
<pre><code class="language-c">printf(&quot;%d&quot;, *yPtr); // prints 5
</code></pre>
<p>Dereferencing an uninitialized or NULL pointer (e.g., <code>int *ptr; printf("%d", *ptr);</code>)
causes <strong>undefined behavior</strong>, often leading to program crashes. </p>
<p>Always ensure a pointer points to a valid memory address before dereferencing.</p>
<h3 id="note-dual-meanings-of">Note: Dual Meanings of <code>*</code></h3>
<p>In C <code>*</code> has different meanings depending on context:</p>
<ul>
<li>In a <strong><em>declaration</em></strong>, it means the variable is a pointer to the given type.</li>
<li>In an <strong><em>expression</em></strong>, it means <em>dereference</em> the pointer (access the value at the address).</li>
</ul>
<pre><code class="language-c">int x = 10;
int *ptr = &amp;x;  // * in declaration: ptr is a pointer
printf(&quot;%d&quot;, *ptr);  // * in expression: dereference to get 10
</code></pre>
<h2 id="const-with-pointers"><code>const</code> with Pointers</h2>
<p><strong><em>You will be tested on this!</em></strong></p>
<p><code>const</code> can be used in two ways with pointers in a function:</p>
<p><img alt="const_with_pointers" src="../const_with_pointers.png" /></p>
<ol>
<li>
<p>The first <font color="red"><strong>const</strong></font> means you cannot change the value being
pointed to (<code>*dPtr</code> is read-only).</p>
</li>
<li>
<p>The second <font color="blue"><strong>const</strong></font> means you cannot change the pointer itself (you can’t make 
<code>dPtr</code> point somewhere else).</p>
</li>
</ol>
<p>Bob recommended remembering it this way:</p>
<ul>
<li>if <code>const</code> is beside the <strong>type</strong> it affects the <em>data</em><ul>
<li>therefore you can't change the data that the pointer dereferences.</li>
</ul>
</li>
<li>if <code>const</code> is beside the <strong>pointer</strong> it affects the <em>pointer</em><ul>
<li>therefore you can't make this pointer point to a different address.</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Note:</strong>
This second <font color="blue"><strong>const</strong></font> must come after the <code>*</code> but before the variable name.</p>
<p>Writing <code>const double const *dPtr</code> is <strong><em>not</em></strong> equivalent </p>
<p>— both uses of <code>const</code> in this version apply to the <em>data</em> and not to the pointer.</p>
<hr>

<h2 id="incrementing-a-pointer">Incrementing a Pointer</h2>
<p>If you increment a pointer (<code>++myPtr</code>), it simply moves to the next address in
memory for that type — so it now points to the “next” item.</p>
<p>If you increment a pointer <strong>inside a function</strong>, only the local copy is changed. 
The original pointer in the caller <strong>still points to the same place</strong> unless 
you pass a pointer-to-pointer.</p>
<p>This means that inside a function, you can use <code>++</code> or <code>--</code> to loop through
the memory next to the pointer <strong>without losing the original starting point</strong>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../wk_seven/" class="btn btn-neutral float-left" title="Week 7"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../wk_seven/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/asciinema-player@3.0.1/dist/bundle/asciinema-player.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
